<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Counter Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/Counter" class="dashAnchor"></a>

    <a title="Counter Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          SwiftIO Docs
        </a>
         (45% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/madmachineio/SwiftIO">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">SwiftIO Reference</a>
      <img class="carat" src="../img/carat.png" />
      Counter Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/AnalogIn.html">AnalogIn</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Counter.html">Counter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Counter/Mode.html">– Mode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/DigitalIn.html">DigitalIn</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/DigitalIn/Mode.html">– Mode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/DigitalIn/InterruptMode.html">– InterruptMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/DigitalIn/InterruptState.html">– InterruptState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/DigitalOut.html">DigitalOut</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/DigitalOut/Mode.html">– Mode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/I2C.html">I2C</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/I2C/Speed.html">– Speed</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PWMOut.html">PWMOut</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/SPI.html">SPI</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Timer.html">Timer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Timer/Mode.html">– Mode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UART.html">UART</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UART/Parity.html">– Parity</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UART/StopBits.html">– StopBits</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UART/DataBits.html">– DataBits</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UART/BufferLength.html">– BufferLength</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/Id.html">Id</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:7SwiftIO19cyclesToNanoseconds5start4stops5Int64VSu_SutF">cyclesToNanoseconds(start:stop:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:7SwiftIO13getClockCycleSuyF">getClockCycle()</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:7SwiftIO22getPowerUpMillisecondss5Int64VyF">getPowerUpMilliseconds()</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:7SwiftIO5sleep2msySi_tF">sleep(ms:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:7SwiftIO4wait2usySi_tF">wait(us:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/IdName.html">IdName</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Counter</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">Counter</span></code></pre>

                </div>
              </div>
            <p>The counter class can be used to count the external signal and measure the number of the pulse. It can detect the rising edge or both edges.</p>
<div class="aside aside-attention">
    <p class="aside-title">Attention</p>
    The maximum count value depends on the lowlevel hardware. For example, SwiftIO Board’s counter is 16bit, so the max count value is 65535. If the counter reaches the value, it will overflow and start from 0 again.

</div>
<h3 id='example-read-the-count-value-every-10ms' class='heading'>Example: Read the count value every 10ms</h3>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SwiftIO</span>

<span class="c1">// Initiate the counter0.</span>
<span class="k">let</span> <span class="nv">counter</span> <span class="o">=</span> <span class="kt">Counter</span><span class="p">(</span><span class="kt">Id</span><span class="o">.</span><span class="kt">C0</span><span class="p">)</span>

<span class="c1">// Count and print the value every 10ms. Use wait here to get a more precise delay.</span>
<span class="k">while</span> <span class="kc">true</span> <span class="p">{</span>
    <span class="c1">// Clear the counter to set the value to 0.</span>
    <span class="n">counter</span><span class="o">.</span><span class="nf">clear</span><span class="p">()</span>
    <span class="nf">wait</span><span class="p">(</span><span class="nv">us</span><span class="p">:</span> <span class="mi">10_000</span><span class="p">)</span>
    <span class="c1">// Read the value accumulated in 10ms.</span>
    <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="nf">read</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Conter value = </span><span class="se">\(</span><span class="n">value</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>

</code></pre>

<p><strong>or</strong></p>
<pre class="highlight swift"><code> <span class="kd">import</span> <span class="kt">SwiftIO</span>

 <span class="c1">// Initiate the counter0.</span>
 <span class="k">let</span> <span class="nv">counter</span> <span class="o">=</span> <span class="kt">Counter</span><span class="p">(</span><span class="kt">Id</span><span class="o">.</span><span class="kt">C0</span><span class="p">)</span>

 <span class="c1">// Initialize a timer to set interrupt.</span>
 <span class="k">let</span> <span class="nv">timer</span> <span class="o">=</span> <span class="kt">Timer</span><span class="p">()</span>

 <span class="c1">// Use the timer to read and print the value every 10ms.</span>
 <span class="n">timer</span><span class="o">.</span><span class="nf">setInterrupt</span><span class="p">(</span><span class="nv">ms</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="nf">read</span><span class="p">()</span>
     <span class="c1">// Clear the value to to 0.</span>
     <span class="n">counter</span><span class="o">.</span><span class="nf">clear</span><span class="p">()</span>
     <span class="nf">print</span><span class="p">(</span><span class="s">"Conter value = </span><span class="se">\(</span><span class="n">value</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="k">while</span> <span class="kc">true</span> <span class="p">{</span>
 <span class="p">}</span>

</code></pre>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7SwiftIO7CounterC13maxCountValueSivp"></a>
                    <a name="//apple_ref/swift/Property/maxCountValue" class="dashAnchor"></a>
                    <a class="token" href="#/s:7SwiftIO7CounterC13maxCountValueSivp">maxCountValue</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The maximum count value.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">maxCountValue</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7SwiftIO7CounterC_4mode5startAcA6IdName_p_AC4ModeOSbtcfc"></a>
                    <a name="//apple_ref/swift/Method/init(_:mode:start:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7SwiftIO7CounterC_4mode5startAcA6IdName_p_AC4ModeOSbtcfc">init(_:<wbr>mode:<wbr>start:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initialize the counter.</p>
<h3 id='usage-example' class='heading'>Usage Example</h3>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">counter</span> <span class="o">=</span> <span class="kt">Counter</span><span class="p">(</span><span class="kt">Id</span><span class="o">.</span><span class="kt">C0</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">counter</span> <span class="o">=</span> <span class="kt">Counter</span><span class="p">(</span><span class="kt">Id</span><span class="o">.</span><span class="kt">C0</span><span class="p">,</span> <span class="nv">mode</span><span class="p">:</span> <span class="o">.</span><span class="n">rising</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">counter</span> <span class="o">=</span> <span class="kt">Counter</span><span class="p">(</span><span class="kt">Id</span><span class="o">.</span><span class="kt">C0</span><span class="p">,</span> <span class="nv">start</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>

</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">_</span> <span class="nv">id</span><span class="p">:</span> <span class="kt"><a href="../Protocols/IdName.html">IdName</a></span><span class="p">,</span> <span class="nv">mode</span><span class="p">:</span> <span class="kt"><a href="../Classes/Counter/Mode.html">Mode</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">rising</span><span class="p">,</span> <span class="nv">start</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>id</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><strong>REQUIRED</strong> The id of the counter. See the Id enumeration for reference.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>mode</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><strong>OPTIONAL</strong> The edge of the external signal to detect, rising edge or both edges.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>start</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><strong>OPTIONAL</strong> Whether or not to start the counter after initialization.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7SwiftIO7CounterC7setModeyyAC0E0OF"></a>
                    <a name="//apple_ref/swift/Method/setMode(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7SwiftIO7CounterC7setModeyyAC0E0OF">setMode(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Change the mode to decide whether it detects the rising edge or both rising and falling edges.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">setMode</span><span class="p">(</span><span class="n">_</span> <span class="nv">mode</span><span class="p">:</span> <span class="kt"><a href="../Classes/Counter/Mode.html">Mode</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>mode</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The edge of the external signal to detect, rising edge or both edges.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7SwiftIO7CounterC4readSiyF"></a>
                    <a name="//apple_ref/swift/Method/read()" class="dashAnchor"></a>
                    <a class="token" href="#/s:7SwiftIO7CounterC4readSiyF">read()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Read the number of edges that has been detected.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@inline</span><span class="p">(</span><span class="n">__always</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">read</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Return the number of edges.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7SwiftIO7CounterC5startyyF"></a>
                    <a name="//apple_ref/swift/Method/start()" class="dashAnchor"></a>
                    <a class="token" href="#/s:7SwiftIO7CounterC5startyyF">start()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Start the counter to measure the value.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@inline</span><span class="p">(</span><span class="n">__always</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">start</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7SwiftIO7CounterC4stopyyF"></a>
                    <a name="//apple_ref/swift/Method/stop()" class="dashAnchor"></a>
                    <a class="token" href="#/s:7SwiftIO7CounterC4stopyyF">stop()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Stop the counter.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@inline</span><span class="p">(</span><span class="n">__always</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">stop</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7SwiftIO7CounterC5clearyyF"></a>
                    <a name="//apple_ref/swift/Method/clear()" class="dashAnchor"></a>
                    <a class="token" href="#/s:7SwiftIO7CounterC5clearyyF">clear()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Clear the value of counter, it will set the value to 0.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@inline</span><span class="p">(</span><span class="n">__always</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">clear</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7SwiftIO7CounterC4ModeO"></a>
                    <a name="//apple_ref/swift/Enum/Mode" class="dashAnchor"></a>
                    <a class="token" href="#/s:7SwiftIO7CounterC4ModeO">Mode</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The Mode enumerate is to decide whether the count detects the rising edge or both rising and falling edges.</p>

                        <a href="../Classes/Counter/Mode.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">Mode</span> <span class="p">:</span> <span class="kt">UInt8</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="https://madmachine.io" target="_blank" rel="external">Ines</a>. All rights reserved. (Last updated: 2020-06-17)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
